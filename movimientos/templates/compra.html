{% extends 'base.html' %}  <!---esto es como si fuera un import-->

{% block title %}COMPRA DE CRYPTOS{% endblock %}
<title>COMPRA CRYPTOS</title>

{% block content %}

<main class="navbar">
    <nav>
        <ul> 
            <li class="item"><a href="/">Movimientos</a></li>
            <li class="item"><a href="/purchase">Compra</a></li>
            <li class="item"><a href="/status">Status</a></li>
        </ul>
    </nav>

{% for mensaje in mensajes %}
        <p>{{mensaje}}</p>
{% endfor %}

<form action ='purchase' method='post'> <!---en action hay que poner el punto de entrada - el endpoint. No le pongo la raya '/' a purchase pq estamos en enrutamiento relativo --->
    {{ form.hidden_tag() }}

{% if interruptor == False  %}
    <div>    
        <!---me pinta un menú de selección. El 'name' es para distinguir unos inputs de otros, si tengo varios. En google poner html type y buscar todos los tipos de type que existen-->
        {{ form.desde.label }}
        {{ form.desde() }}  
    </div>
    <div>
        {{ form.hacia.label }}
        {{ form.hacia() }}
        {% for error in form.hacia.errors %}
        <p>{{error}}</p>
        {% endfor %}
     
    </div>
    <div>
        {{ form.q1.label }}
        {{ form.q1(placeholder='Introduzca cantidad')}}
        {% for error in form.q1.errors %}
        <p>{{error}}</p>
        {% endfor %}
    </div>
    <div>   
        {{ form.q2.label }}        
        {{ form.q2(placeholder='Importe a invertir', disabled="disabled")}}
    </div>
    <div>
        {{ form.pu.label }}
        {{ form.pu }}
    </div>    
    <div>
        {{ form.aceptar (class = "Aceptar") }}
    </div>
    <div>
        {{ form.cancelar (class = "Cancelar") }}
    </div>
    <div>
        {{ form.calc (class = "Calc") }}
    </div>
{% else %}

    <div>    
        {{ form.desde.label }}  
        {{ form.desde(value=form.desde.data, disabled="disabled") }}
    </div>
    <div>
        {{ form.hacia.label }}
        {{ form.hacia(value=form.hacia.data, disabled="disabled") }}
        {{ form.hacia(value=form.hacia.data, hidden=True) }}

    </div>
    <div>
        {{ form.q1.label }}
        {{ form.q1(value=form.q1.data, readonly="readonly")}}
    </div>
    <div>   
        {{ form.q2.label }}        
        {{ form.q2(vavalue=form.q2.data, readonly="readonly")}}

    </div>
    <div>
        {{ form.pu.label }}
        {{ form.pu(value=form.pu.data, readonly="readonly")}}
    </div>    
    <div>
        {{ form.aceptar (class = "Aceptar") }}
    </div>
    <div>
        {{ form.cancelar (class = "Cancelar") }}
    </div>
    <div>
        {{ form.calc (class = "Calc") }}
    </div>
{% endif %}
</form>

{% endblock %}